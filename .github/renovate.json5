{
  $schema: "https://docs.renovatebot.com/renovate-schema.json",
  extends: ["config:best-practices"],
  timezone: "Etc/UTC",
  schedule: ["before 3am on saturday"],
  enabledManagers: ["custom.regex", "nix", "github-actions"],
  nix: {
    enabled: false,
    managerFilePatterns: ["/flake\\.nix$/", "/flake\\.lock$/"],
  },
  customManagers: [
    {
      customType: "regex",
      managerFilePatterns: ["/systems-linux/acarshub/configuration\\.nix$/"],
      matchStrings: ['image = "(?<depName>.*?):(?<currentValue>.*?)";'],
      datasourceTemplate: "docker",
      depTypeTemplate: "container",
      depNameTemplate: "{{depName}}",
      extractVersionTemplate: "{{currentValue}}",
      datasourceTemplate: "docker",
      packageNameTemplate: "{{depName}}",
    },
  ],
  packageRules: [
    {
      matchDatasources: ["docker"],
      matchPackagePrefixes: ["gcr.io/sdr-enthusiasts/", "ghcr.io/planewatch/"],
      versioning: "loose",
      versioning: "regex:^trixie-latest-build-(?<build>\\d+))?$",
    },
    {
      matchDatasources: ["docker"],
      matchPackageNames: ["amir20/dozzle"],
      versioning: "semver",
    },
  ],
}
