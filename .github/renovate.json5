{
  $schema: "https://docs.renovatebot.com/renovate-schema.json",
  extends: ["config:best-practices"],
  timezone: "Etc/UTC",
  schedule: ["before 3am on saturday"],
  enabledManagers: ["custom.regex", "nix", "github-actions"],
  nix: {
    enabled: false,
    managerFilePatterns: ["/flake\\.nix$/", "/flake\\.lock$/"],
  },
  customManagers: [
    {
      customType: "regex",
      managerFilePatterns: ["/systems-linux/acarshub/configuration\\.nix$/"],
      matchStrings: ['image = "(?<depName>.*?):(?<currentValue>.*?)";'],
      depNameTemplate: "{{depName}}",
      extractVersionTemplate: "{{currentValue}}",
      datasourceTemplate: "docker",
      lookupNameTemplate: "{{depName}}",
    },
  ],
  packageRules: [
    {
      matchDatasources: ["docker"],
      versioning: "loose",
    },
  ],
}
